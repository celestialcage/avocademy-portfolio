<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<th:block th:insert="~{./fragments.html :: headTag}"></th:block>
<meta charset="UTF-8">
<title>게시글 상세보기</title>


<!-- 추가 script -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script src=" https://cdn.jsdelivr.net/npm/sweetalert2@11.11.0/dist/sweetalert2.all.min.js "></script>
<link href=" https://cdn.jsdelivr.net/npm/sweetalert2@11.11.0/dist/sweetalert2.min.css " rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/style.css">

<!-- 추가 css -->
<style type="text/css">
main {
	display: row;
}

.mainContents {
	margin: 0 auto;
	height: auto;
	min-height: 600px;
}
</style>
</head>
<body>
	<main class="container">
		<th:block th:insert="~{./fragments.html :: menu}"></th:block>
		<!-- 여기가 본문 -->
		<div class="mainContents">
			<div class="container mt-5">
				<div class="card text-center">
					<div class="card-header d-flex  align-items-center">
						<h3 class="card-title" th:text="${detail.btitle}">게시글 제목</h3>
						<div th:if="${session.uname eq detail.uname}">
						<img th:src="@{/img/작은수정.png}" onclick="updatecd()"> 
						<img th:src="@{/img/작은삭제.png}" th:attr="onclick=|deletecd('${detail.bno}')|">
							
				<!-- 			<i class="bi bi-arrow-up" th:id="${detail.bno}" onclick="update(this.id)"></i>
							<i class="bi bi-arrow-down" th:id="${detail.bno}" onclick="deleltecd(this.id)"></i> -->
							
						</div>
						<samll class="text-muted " th:text="${detail.bdate}">게시 날짜</samll>
					</div>
					<div class="card-body">
						<p class="card-text" th:utext="${detail.bcontent}"></p>
					</div>

				</div>
			</div>
		</div>
		<div class="mt-3"
			style="width: 100%; display: flex; justify-content: center;">
			<a href="/online" class="btn btn-light">back</a>
		</div>

		<!-- 본문 끝 -->
	</main>


	 
	
	<!-- Bootstrap Bundle with Popper -->
	 <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- FOOTER -->
	<th:block th:insert="~{./fragments.html :: footer}"></th:block>
	<script type="text/javascript">
	function deletecd(bno){
		  Swal.fire({
		    title: "삭제합니까?",
		      text: "해당 내용을 삭제합니다. 복구가 불가능합니다.",
		      icon: "warning",
		      showCancelButton: true,
		      confirmButtonColor: "#3085d6",
		      cancelButtonColor: "#d33",
		      confirmButtonText: "삭제"
				}).then((result) => {
		      if (result.isConfirmed) {
		    	  // Swal.fire({ title: "삭제를 선택했습니다.", text: "삭제합니다.", icon: "success" });
		    	  let form = document.createElement('form');
		    	  form.setAttribute('method', 'post');
		    	  form.setAttribute('action', '/online/deletecd');
		    	  
		    	  let input = document.createElement('input');
		    	  input.setAttribute('type', 'hidden');
		    	  input.setAttribute('name', 'bno');
		    	  input.setAttribute('value', bno);
		    	  
		    	  form.appendChild(input);
		    	  
		    	  document.body.appendChild(form);
		    	  form.submit();
		    	}
		    });
            }
        
	function updatecd(bno){
		  Swal.fire({
		    title: "수정합니까?",
		    text: "해당 내용을 수정합니다.",
		    icon: "warning",
		    showCancelButton: true,
		    confirmButtonColor: "#3085d6",
		    cancelButtonColor: "#d33",
		    confirmButtonText: "수정"
		  }).then((result) => {
		    if (result.isConfirmed) {
		      // Swal.fire({ title: "수정을 선택했습니다.", text: "수정합니다.", icon: "success" });
		    }
		  });
        }
    </script>

</body>
</html>